(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[8],{177:function(e,t,a){"use strict";a.r(t);var c=a(24),r=a.n(c),n=a(31),s=a(134),l=a(53),o=a(1),i=a.n(o),u=a(127),d=a(142),m=a(174),f=a(123),b=a(124),j=a(175),O=a(146),v=a(143),h=a(14),x=function(e){var t=e.favorite,a=e.favoriteSelected,c=e.index,r=e.selectedIndex,n=Object(o.useContext)(h.a),s=n.theme,l=n.colorTheme;return i.a.createElement("div",{className:"h-16 text-".concat(l," bg-").concat(s," hover:bg-").concat(l," hover:text-").concat(s," border ").concat(c===r?"sm:border-teal-600":"sm:border-".concat(l),"\n        } pt-5 lg:pt-1/2 font-semibold rounded-2xl cursor-pointer text-center justify-center"),onClick:a},t.address.cityName.split(", ")[0])},p=a(147),w=a(52),E=a(126),g=a(9),y=a(145);t.default=function(){var e=Object(o.useContext)(u.a).favorites,t=Object(o.useContext)(h.a),a=t.theme,c=t.colorTheme,N=Object(o.useState)({}),k=Object(l.a)(N,2),C=k[0],S=k[1],F=Object(o.useState)({}),I=Object(l.a)(F,2),T=I[0],J=I[1],R=Object(o.useState)(!1),M=Object(l.a)(R,2),q=M[0],z=M[1],A=Object(o.useState)(null),B=Object(l.a)(A,2),D=B[0],G=B[1],H=Object(o.useRef)(),K=Object(o.useRef)(0),L=function(){if(Object(f.a)(C)||Object(b.a)(C)||Object(m.a)(C))return!1;var e=C.address.cityName;return!Object(f.a)(e)&&!Object(b.a)(e)&&!e.includes("")&&!e.includes("null")},P=function(t){e[t]&&(Object(y.a)("favorites",e[t].address.cityName),S(Object(s.a)({},e[t]))),G(t)},Q=function(){var e=Object(n.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(b.a)(C)||!Object.keys(C).length){e.next=15;break}return e.prev=1,z(!0),e.next=5,Object(d.a)(C);case 5:t=e.sent,Object(f.a)(t)||Object(b.a)(t)||Object(m.a)(t)||(J((function(e){return Object(s.a)({},e,{},t)})),U()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),g.a(e.t0);case 12:return e.prev=12,z(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e;e=H,Object(m.a)(e.current)||window.scrollTo(0,e.current.offsetTop)};return Object(o.useEffect)((function(){Q(),Object(f.a)(C)||Object(b.a)(C)||Object(m.a)(C)||(Object(b.a)(Object(j.a)(e,(function(e){return e.address.cityName===C.address.cityName})))?P(D):e.length>K.current&&P(e.length-1)),K.current=e.length;var t=setInterval((function(){Q()}),36e5);return function(){clearInterval(t)}}),[C,e]),i.a.createElement(o.Fragment,null,e.length>0?i.a.createElement("div",{className:"bg-".concat(a," pt-10 pb-24 mb-0")},i.a.createElement("p",{className:"text-center font-bold text-2xl text-".concat(c)},"Favorites"),i.a.createElement("div",{className:"sm:hidden px-5 py-5"},i.a.createElement(O.a,Object.assign({},Object(v.a)("favorite"),{slideIndex:D,afterSlide:function(e){return P(e)}}),e.map((function(e,t){return i.a.createElement(x,{key:t,favorite:e,index:t,selectedIndex:D,favoriteSelected:function(){return P(t)}})})))),i.a.createElement("div",{className:"hidden sm:flex justify-center items-center"},i.a.createElement("div",{className:"sm:w-5/6 xl:max-w-6xl px-5 py-5"},i.a.createElement("div",{className:"flex sm:flex-row flex-wrap justify-center"},e.map((function(e,t){return i.a.createElement("div",{className:"m-2 sm:w-1/2 md:w-1/4",key:t},i.a.createElement(x,{key:e.latlong,favorite:e,index:t,selectedIndex:D,favoriteSelected:function(){return P(t)}}))}))))),i.a.createElement("div",{ref:H},Object(f.a)(T.weatherCurrent)||Object(b.a)(T.weatherCurrent)||Object(m.a)(T.weatherCurrent)?i.a.createElement(o.Fragment,null,q?i.a.createElement(w.a,{loaderText:"Fetching weather forecast ".concat(L()?"for ".concat(C.address.cityName):""," \ud83d\ude0e")}):i.a.createElement("div",null,L()?i.a.createElement("div",{className:"flex justify-center"},i.a.createElement("div",{className:"sm:w-full lg:w-2/3 xl:w-1/2"},i.a.createElement(E.a,{errorMessage:"Something went wrong. Failed to fetch weather forecast ".concat(L()?"for ".concat(C.address.cityName):"","! \ud83d\ude22")}))):null)):i.a.createElement(p.a,{weatherCurrent:T.weatherCurrent,weatherForecast:T.weatherForecast,address:C.address,latlong:C.latlong}))):null)}}}]);
//# sourceMappingURL=8.2410ed17.chunk.js.map